<html>
<head><title>Rollocontrol</title>

</head>
<body>
<script type="text/javascript">
var myJson = {"timeEvents":[{"name":"WE Hoch","days":96,"event":"hoch","secoundOfDay":34200,"id":0}
,{"name":"WE Runter","days":96,"event":"runter","secoundOfDay":64800,"id":1}
,{"name":"Wochentags Hoch","days":31,"event":"hoch","secoundOfDay":27000,"id":2}
,{"name":"Wochentags Runter","days":31,"event":"runter","secoundOfDay":64800,"id":3}
,{"name":"WE Tueren","days":96,"event":"runter","secoundOfDay":61200,"id":4}
,{"name":"Wochentags Tueren","days":31,"event":"runter","secoundOfDay":61200,"id":5}
],
"time":{"secoundsOfDay":0,"weekDay":0},
"outputs":[{"name":"Wohnzimmmer rechts","maxTime":3500,"id":5,"state":0}
,{"name":"Gaeste WC","maxTime":2500,"id":5,"state":1}
,{"name":"Kueche Fenster","maxTime":2500,"id":5,"state":2}
,{"name":"Technik","maxTime":2500,"id":5,"state":3}
,{"name":"Wohnzimmmer links","maxTime":3500,"id":5,"state":4}
,{"name":"Kueche Tuer","maxTime":3500,"id":5,"state":5}
,{"name":"Eltern","maxTime":2500,"id":5,"state":6}
,{"name":"Kind rechts","maxTime":2500,"id":5,"state":7}
,{"name":"Kind links","maxTime":2500,"id":5,"state":8}
,{"name":"Bad","maxTime":2500,"id":5,"state":9}]};

function getCurSecOfDay() {
	var d = new Date();
    return d.getHours() * 3600 + d.getMinutes() * 60 + d.getSeconds();
}
function getCurWeekDay() {
	var d = new Date().getDay();
	if (d == 0)
		return 6;
	else 
		return d - 1;	
}

function secOfDay2String(sod) {                
	var h = Math.floor(sod / 3600), min = Math.floor((sod % 3600) / 60), sec = sod % 60;
	if (h < 10)   {h   = "0"+h;}
	if (min < 10) {min = "0"+min;}
	if (sec < 10) {sec = "0"+sec;}
	return h + ":" + min + ":" + sec; 
}

function recursiveList(obj) {
	var t = "<ul>";
	for (i in obj) {
		t += "<li>" + i;
		if (obj[i] instanceof Object) {
			t += recursiveList(obj[i]);
		} else {
			t += " = " + obj[i]; 
		}
		t += "</li>";
	}
	t += "</ul>";
	return t;	
}

myJson.time.secoundsOfDay = 61200; 
document.write(secOfDay2String(300) + "<br>");
document.write(secOfDay2String(myJson.time.secoundsOfDay) + "<br>");
document.write(secOfDay2String(getCurSecOfDay()) + "<br>");
document.write(getCurWeekDay() + "<br>");
document.write(recursiveList(myJson));
</script>
<body>
</html>